{"version":3,"file":"commonHelpers2.js","sources":["../src/js/shoppingListRender.js"],"sourcesContent":["import { removeFromLocalStorage } from './localStorage.js';\nimport { getAllBooks } from './localStorage.js';\nimport amazonLogo from '../img/amazon.png';\nimport appleLogo from '../img/book.png';\nimport { } from '../js/refs.js';\nimport icon from '/img/noptimizesprite.svg'\nconst shoppingListRef = document.querySelector('#shopping-list');\nconst emptyShopListRef = document.querySelector('.box-bookslist');\n\ncheckLocalStorage();\n\nfunction checkLocalStorage() {\n  if (getAllBooks().length) {\n    emptyShopListRef.classList.add('emptyShoppingList');\n  } else emptyShopListRef.classList.remove('emptyShoppingList');\n}\n\nwindow.addEventListener('load', renderShoppingList);\n\nfunction renderShoppingList() {\n  const allBooksMarkup = getAllBooks()\n    .map(bookElem => markupShoppingList(bookElem))\n    .join('');\n  shoppingListRef.innerHTML = allBooksMarkup;\n  const bloom = document.querySelector('#shopping-list');\n  bloom.addEventListener('click', deleteFromShoppingList);\n}\n\nfunction deleteFromShoppingList(event) {\n  if (!event.target.hasAttribute('id') === 'icon-deleteBtn') return;\n  removeFromLocalStorage(event);\n  checkLocalStorage();\n  renderShoppingList();\n}\n\nfunction markupShoppingList(book) {\n  return `<li class=\"shopping-list-item\">\n    <button type=\"button\" class=\"icon-deleteBtn\" data-id=\"${book._id}\">\n      <svg class=\"icon-trash\" id=\"icon-trash-03\" width=\"28\" height=\"28\">\n        <use href=\"${icon}#icon-trash-03\"></use>\n      </svg>\n    </button>\n      <img src=\"${book.book_image}\" alt=\"${book.title}\" class=\"shopping-item-img\">\n      \n    \n    <div class=\"book-info-wrap\">\n      <p class=\"book-title shopping-book-title break-text\">${book.title}</p>\n      <p class=\"shopping-book-category break-text\">${book.list_name}</p>\n      <p class=\"book-alt-text\">${book.description}</p>\n      <div class=\"author-shops-wrap\">\n        <p class=\"book-author\">${book.author}</p>\n        <div class=\"img-wrap shopping-img-wrap\">\n          <a href=\"${book.amazon_product_url}\" target=\"blank\">\n            <img src=\"${amazonLogo}\" alt=\"amazon-logo\" class=\"amazon-logo shopping-amazon-logo\" width=\"62\" height=\"19\">\n          </a>\n          <a href=\"${book.buy_links[1].url}\" target=\"_blank\">\n            <img src=\"${appleLogo}\" alt=\"apple-book\" class=\"apple-logo shopping-apple-logo\" width=\"33\" height=\"32\">\n          </a>\n        </div>\n      </div>\n    </div>\n  </li>`;\n}\nwindow.addEventListener('resize', function() {\n    addDisplayPropertyToSupportClass();\n});\n\nfunction addDisplayPropertyToSupportClass() {\n    const screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    const supportElement = document.querySelector('.support');\n\n    if (screenWidth > 1440 && supportElement) {\n        supportElement.style.display = 'block';\n    } else {\n        supportElement.style.display = 'none';\n    }\n}\n"],"names":["shoppingListRef","emptyShopListRef","checkLocalStorage","getAllBooks","renderShoppingList","allBooksMarkup","bookElem","markupShoppingList","deleteFromShoppingList","event","removeFromLocalStorage","book","icon","amazonLogo","appleLogo","addDisplayPropertyToSupportClass","screenWidth","supportElement"],"mappings":"sHAMA,MAAMA,EAAkB,SAAS,cAAc,gBAAgB,EACzDC,EAAmB,SAAS,cAAc,gBAAgB,EAEhEC,IAEA,SAASA,GAAoB,CACvBC,EAAa,EAAC,OAChBF,EAAiB,UAAU,IAAI,mBAAmB,EAC7CA,EAAiB,UAAU,OAAO,mBAAmB,CAC9D,CAEA,OAAO,iBAAiB,OAAQG,CAAkB,EAElD,SAASA,GAAqB,CAC5B,MAAMC,EAAiBF,EAAa,EACjC,IAAIG,GAAYC,EAAmBD,CAAQ,CAAC,EAC5C,KAAK,EAAE,EACVN,EAAgB,UAAYK,EACd,SAAS,cAAc,gBAAgB,EAC/C,iBAAiB,QAASG,CAAsB,CACxD,CAEA,SAASA,EAAuBC,EAAO,CACjC,CAACA,EAAM,OAAO,aAAa,IAAI,IAAM,mBACzCC,EAAuBD,CAAK,EAC5BP,IACAE,IACF,CAEA,SAASG,EAAmBI,EAAM,CAChC,MAAO;AAAA,4DACmDA,EAAK,GAAG;AAAA;AAAA,qBAE/CC,CAAI;AAAA;AAAA;AAAA,kBAGPD,EAAK,UAAU,UAAUA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,6DAIQA,EAAK,KAAK;AAAA,qDAClBA,EAAK,SAAS;AAAA,iCAClCA,EAAK,WAAW;AAAA;AAAA,iCAEhBA,EAAK,MAAM;AAAA;AAAA,qBAEvBA,EAAK,kBAAkB;AAAA,wBACpBE,CAAU;AAAA;AAAA,qBAEbF,EAAK,UAAU,CAAC,EAAE,GAAG;AAAA,wBAClBG,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,QAMjC,CACA,OAAO,iBAAiB,SAAU,UAAW,CACzCC,GACJ,CAAC,EAED,SAASA,GAAmC,CACxC,MAAMC,EAAc,OAAO,YAAc,SAAS,gBAAgB,aAAe,SAAS,KAAK,YACzFC,EAAiB,SAAS,cAAc,UAAU,EAEpDD,EAAc,MAAQC,EACtBA,EAAe,MAAM,QAAU,QAE/BA,EAAe,MAAM,QAAU,MAEvC"}