{"version":3,"file":"commonHelpers2.js","sources":["../src/js/shoppingListRender.js"],"sourcesContent":["import { removeFromLocalStorage } from './localStorage.js';\nimport { getAllBooks } from './localStorage.js';\nimport amazonLogo from '../img/amazon.png';\nimport appleLogo from '../img/book.png';\nimport {} from '../js/refs.js';\nconst shoppingListRef = document.querySelector('#shopping-list');\nconst emptyShopListRef = document.querySelector('.box-bookslist');\n\ncheckLocalStorage();\n\nfunction checkLocalStorage() {\n  if (getAllBooks().length) {\n    emptyShopListRef.classList.add('emptyShoppingList');\n  } else emptyShopListRef.classList.remove('emptyShoppingList');\n}\n\nwindow.addEventListener('load', renderShoppingList);\n\nfunction renderShoppingList() {\n  const allBooksMarkup = getAllBooks()\n    .map(bookElem => markupShoppingList(bookElem))\n    .join('');\n  shoppingListRef.innerHTML = allBooksMarkup;\n  const bloom = document.querySelector('#shopping-list');\n  bloom.addEventListener('click', deleteFromShoppingList);\n}\n\nfunction deleteFromShoppingList(event) {\n  if (!event.target.hasAttribute('id') === 'icon-deleteBtn') return;\n  removeFromLocalStorage(event);\n  checkLocalStorage();\n  renderShoppingList();\n}\n\nfunction markupShoppingList(book) {\n  return `<li class=\"shopping-list-item\">\n    <button type=\"button\" class=\"icon-deleteBtn\" data-id=\"${book._id}\">\n      <svg class=\"icon-trash\" id=\"icon-trash-03\" width=\"28\" height=\"28\">\n        <use href=\"/img/noptimizesprite.svg#icon-trash-03\"></use>\n      </svg>\n    </button>\n      <img src=\"${book.book_image}\" alt=\"${book.title}\" class=\"shopping-item-img\">\n      \n    \n    <div class=\"book-info-wrap\">\n      <p class=\"book-title shopping-book-title break-text\">${book.title}</p>\n      <p class=\"shopping-book-category break-text\">${book.list_name}</p>\n      <p class=\"book-alt-text\">${book.description}</p>\n      <div class=\"author-shops-wrap\">\n        <p class=\"book-author\">${book.author}</p>\n        <div class=\"img-wrap shopping-img-wrap\">\n          <a href=\"${book.amazon_product_url}\" target=\"blank\">\n            <img src=\"${amazonLogo}\" alt=\"amazon-logo\" class=\"amazon-logo shopping-amazon-logo\" width=\"62\" height=\"19\">\n          </a>\n          <a href=\"${book.buy_links[1].url}\" target=\"_blank\">\n            <img src=\"${appleLogo}\" alt=\"apple-book\" class=\"apple-logo shopping-apple-logo\" width=\"33\" height=\"32\">\n          </a>\n        </div>\n      </div>\n    </div>\n  </li>`;\n}\n"],"names":["shoppingListRef","emptyShopListRef","checkLocalStorage","getAllBooks","renderShoppingList","allBooksMarkup","bookElem","markupShoppingList","deleteFromShoppingList","event","removeFromLocalStorage","book","amazonLogo","appleLogo"],"mappings":"uGAKA,MAAMA,EAAkB,SAAS,cAAc,gBAAgB,EACzDC,EAAmB,SAAS,cAAc,gBAAgB,EAEhEC,IAEA,SAASA,GAAoB,CACvBC,EAAa,EAAC,OAChBF,EAAiB,UAAU,IAAI,mBAAmB,EAC7CA,EAAiB,UAAU,OAAO,mBAAmB,CAC9D,CAEA,OAAO,iBAAiB,OAAQG,CAAkB,EAElD,SAASA,GAAqB,CAC5B,MAAMC,EAAiBF,EAAa,EACjC,IAAIG,GAAYC,EAAmBD,CAAQ,CAAC,EAC5C,KAAK,EAAE,EACVN,EAAgB,UAAYK,EACd,SAAS,cAAc,gBAAgB,EAC/C,iBAAiB,QAASG,CAAsB,CACxD,CAEA,SAASA,EAAuBC,EAAO,CACjC,CAACA,EAAM,OAAO,aAAa,IAAI,IAAM,mBACzCC,EAAuBD,CAAK,EAC5BP,IACAE,IACF,CAEA,SAASG,EAAmBI,EAAM,CAChC,MAAO;AAAA,4DACmDA,EAAK,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKlDA,EAAK,UAAU,UAAUA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,6DAIQA,EAAK,KAAK;AAAA,qDAClBA,EAAK,SAAS;AAAA,iCAClCA,EAAK,WAAW;AAAA;AAAA,iCAEhBA,EAAK,MAAM;AAAA;AAAA,qBAEvBA,EAAK,kBAAkB;AAAA,wBACpBC,CAAU;AAAA;AAAA,qBAEbD,EAAK,UAAU,CAAC,EAAE,GAAG;AAAA,wBAClBE,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,QAMjC"}