{"version":3,"file":"commonHelpers2.js","sources":["../src/js/shoppingListRender.js","../src/js/pagination.js","../src/shoping-list-main.js"],"sourcesContent":["import { removeFromLocalStorage } from './localStorage.js';\nimport { getAllBooks } from './localStorage.js';\nimport amazonLogo from '../img/amazon.png';\nimport appleLogo from '../img/book.png';\nimport {} from '../js/refs.js';\nimport icon from '/img/noptimizesprite.svg';\nconst shoppingListRef = document.querySelector('#shopping-list');\nconst emptyShopListRef = document.querySelector('.box-bookslist');\n\ncheckLocalStorage();\n\nfunction checkLocalStorage() {\n  if (getAllBooks().length) {\n    emptyShopListRef.classList.add('emptyShoppingList');\n  } else emptyShopListRef.classList.remove('emptyShoppingList');\n}\n\n// window.addEventListener('load', renderShoppingList);\n\nexport function renderShoppingList(books) {\n  const allBooksMarkup = (books || getAllBooks())\n    .map(bookElem => markupShoppingList(bookElem))\n    .join('');\n  shoppingListRef.innerHTML = allBooksMarkup;\n  const bloom = document.querySelector('#shopping-list');\n  bloom.addEventListener('click', deleteFromShoppingList);\n}\n\nfunction deleteFromShoppingList(event) {\n  if (!event.target.hasAttribute('id') === 'icon-deleteBtn') return;\n  removeFromLocalStorage(event);\n  checkLocalStorage();\n  renderShoppingList();\n}\n\nfunction markupShoppingList(book) {\n  return `<li class=\"shopping-list-item\">\n    <button type=\"button\" class=\"icon-deleteBtn\" data-id=\"${book._id}\">\n      <svg class=\"icon-trash\" id=\"icon-trash-03\" width=\"28\" height=\"28\">\n        <use href=\"${icon}#icon-trash-03\"></use>\n      </svg>\n    </button>\n      <img src=\"${book.book_image}\" alt=\"${book.title}\" class=\"shopping-item-img\">\n      \n    \n    <div class=\"book-info-wrap\">\n      <p class=\"shopping-book-title break-text\">${book.title}</p>\n      <p class=\"shopping-book-category break-text\">${book.list_name}</p>\n      <p class=\"book-alt-text\">${book.description}</p>\n      <div class=\"author-shops-wrap\">\n        <p class=\"book-author\">${book.author}</p>\n        <div class=\"img-wrap shopping-img-wrap\">\n          <a href=\"${book.amazon_product_url}\" target=\"blank\">\n            <img src=\"${amazonLogo}\" alt=\"amazon-logo\" class=\"amazon-logo shopping-amazon-logo\" width=\"32\" height=\"11\">\n          </a>\n          <a href=\"${book.buy_links[1].url}\" target=\"_blank\">\n            <img src=\"${appleLogo}\" alt=\"apple-book\" class=\"apple-logo shopping-apple-logo\" width=\"16\" height=\"16\">\n          </a>\n        </div>\n      </div>\n    </div>\n  </li>`;\n}\nwindow.addEventListener('resize', function () {\n  addDisplayPropertyToSupportClass();\n});\n\nfunction addDisplayPropertyToSupportClass() {\n  const screenWidth =\n    window.innerWidth ||\n    document.documentElement.clientWidth ||\n    document.body.clientWidth;\n  const supportElement = document.querySelector('.support');\n\n  if (screenWidth > 1440 && supportElement) {\n    supportElement.style.display = 'block';\n  } else {\n    supportElement.style.display = 'none';\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const currentPath = window.location.pathname;\n  const shopLink = document.querySelector('.header-nav-shop');\n\n  if (currentPath.includes('shopinglist.html')) {\n    shopLink.classList.add('is-active');\n  }\n});\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { renderShoppingList } from './shoppingListRender';\n\nconst paginationElem = document.querySelector('#pagination1');\nlet pagination;\n\nfunction initPagination() {\n  console.log(window.screen.width);\n\n  if (window.screen.width < 768) {\n    options.itemsPerPage = 4;\n    options.visiblePages = 2;\n  }\n  pagination = new Pagination('pagination1', options);\n  const data = JSON.parse(localStorage.getItem('modal'));\n  if (data.length < 3) {\n    paginationElem.style.display = 'none';\n  }\n  pagination.setTotalItems(data.length);\n  pagination.reset();\n}\n\nconst options = {\n  totalItems: 10,\n  itemsPerPage: 3,\n  visiblePages: 3,\n  page: 1,\n  centerAlign: false,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\n\ninitPagination();\n\npagination.on('afterMove', event => {\n  const currentPage = event.page - 1;\n  const data = JSON.parse(localStorage.getItem('modal'));\n  const startIndex = currentPage * options.itemsPerPage;\n  const endIndex = startIndex + options.itemsPerPage;\n  const bookList = data.slice(startIndex, endIndex);\n  renderShoppingList(bookList);\n});\n\npagination.movePageTo(1);\n","import './js/shoppingListRender'\nimport './js/support'\nimport \"./js/pagination\"\nimport './js/theme.js'\n\nimport './img/noptimizesprite.svg';\n\nimport { refs } from './js/refs';\nimport { onAddThemeLocalStorage } from './js/localStorage';\nimport { toggleModal } from './js/modalburger.js';\n\n// Темна тема\nif (localStorage.getItem('theme') === 'dark') {\n  refs.themeCheckbox.checked = true;\n  document.body.classList.add('dark-theme');\n}\n\nrefs.themeCheckbox.addEventListener('change', onAddThemeLocalStorage);\n\n// Бургер меню\n\nrefs.burgerBtn.addEventListener('click', () => {\n  refs.burgerCont.classList.toggle('is-open-burger');\n  refs.body.classList.toggle('modal-open-burger');\n  toggleModal();\n});"],"names":["shoppingListRef","emptyShopListRef","checkLocalStorage","getAllBooks","renderShoppingList","books","allBooksMarkup","bookElem","markupShoppingList","deleteFromShoppingList","event","removeFromLocalStorage","book","icon","amazonLogo","appleLogo","addDisplayPropertyToSupportClass","screenWidth","supportElement","currentPath","shopLink","paginationElem","pagination","initPagination","options","Pagination","data","currentPage","startIndex","endIndex","bookList","refs","onAddThemeLocalStorage","toggleModal"],"mappings":"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"}