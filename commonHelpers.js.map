{"version":3,"file":"commonHelpers.js","sources":["../src/js/fetchAPI.js","../src/js/homeRender.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://books-backend.p.goit.global/books/';\n\nexport async function fetchTopBooks() {\n  return await axios.get(`${BASE_URL}top-books`);\n}\n\nexport async function fetchCategoriesList() {\n  return await axios.get(`${BASE_URL}category-list`);\n}\n\nexport async function fetchSelectedCategory(category) {\n  return await axios.get(`${BASE_URL}category?category=${category}`);\n}\n\nexport async function fetchBookDetails(bookId) {\n  return await axios.get(`${BASE_URL}${bookId}`);\n}\n","import {fetchTopBooks, fetchSelectedCategory, fetchBookDetails} from \"./fetchAPI\";\nimport iziToast from \"izitoast\";\nexport\nconst categoriesList = document.querySelector(\".home-categories-list\");\nlet booksList;\nexport function loadHomeBooks() {window.addEventListener(\"load\", () =>{\n    fetchTopBooks()\n    .then((categories) =>{\n        if(Object.keys(categories.data.lenght !== 0 )){\n            categoriesList.innerHTML = \"\";\n            renderHomeCategories(categories.data);\n\n        }\n        else {\n            categoriesList.innerHTML = \"\";\n            return iziToast.error({\n                message: \"Sorry, there are no books to render\",\n                position: `topRight`,\n            });\n        }\n    })\n    .catch((error) =>{\n        console.log(error)\n        return iziToast.error({\n            message: error.message,\n            position: `topRight`,\n        });\n    })\n});}\nfunction renderHomeCategories(categories){\n    console.log(categories);\n    const markupCategories = categories\n    .map((category) =>{\n        return `\n        <li class=\"home-categories-item\">\n        <h3 class=\"home-category-title\">${category.list_name}</h3>\n        <ul class=\"home-books-list\">${renderHomeBooks(category.books)}</ul>\n        <button class=\"button see-more\" data-js=\"${category.list_name}\">See more</button>\n        </li>`\n    })\n    .join(\"\");\n    categoriesList.insertAdjacentHTML(\"beforeend\", markupCategories);\n\n}\nfunction renderHomeBooks(books){\n    console.log(books)\n    return books.map((book) => {\n        return `\n        <li class=\"home-books-item\" id=\"${book._id}\">\n            <div class=\"home-book-wrapper\">\n                <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${book.title}\">\n            </div>\n            <div class=\"image-overlay\"><p class=\"image-overlay-text\">QUICK VIEW</p></div>\n            <div class=\"book-info\">\n                <p class=\"book-info-title\">${book.title}</p>\n                <p class=\"book-info-author\">${book.author}</p>\n            </div>\n        </li>`\n    })\n    .join(\"\");\n}\n\n\n\n\n\n","/*LIBRARIES\n1. Axios\n(docs) - https://www.npmjs.com/package/axios?activeTab=readme\n2.izitoast\n(docs) - https://www.npmjs.com/package/izitoast\n3.tui-pagination\n(docs) - https://www.npmjs.com/package/tui-pagination\n4.Swiper \n(docs) - https://www.npmjs.com/package/swiper\n*/\n\nimport { loadHomeBooks } from './js/homeRender';\nloadHomeBooks();\n"],"names":["BASE_URL","fetchTopBooks","axios","categoriesList","loadHomeBooks","categories","renderHomeCategories","iziToast","error","markupCategories","category","renderHomeBooks","books","book"],"mappings":"6vBAEA,MAAMA,EAAW,6CAEV,eAAeC,GAAgB,CACpC,OAAO,MAAMC,EAAM,IAAI,GAAGF,CAAQ,WAAW,CAC/C,CCHA,MAAMG,EAAiB,SAAS,cAAc,uBAAuB,EAE9D,SAASC,GAAgB,CAAC,OAAO,iBAAiB,OAAQ,IAAK,CAClEH,EAAe,EACd,KAAMI,GAAc,CACjB,GAAG,OAAO,KAAKA,EAAW,KAAK,SAAW,GACtCF,EAAe,UAAY,GAC3BG,EAAqBD,EAAW,IAAI,MAIpC,QAAAF,EAAe,UAAY,GACpBI,EAAS,MAAM,CAClB,QAAS,sCACT,SAAU,UAC1B,CAAa,CAEb,CAAK,EACA,MAAOC,IACJ,QAAQ,IAAIA,CAAK,EACVD,EAAS,MAAM,CAClB,QAASC,EAAM,QACf,SAAU,UACtB,CAAS,EACJ,CACL,CAAC,CAAE,CACH,SAASF,EAAqBD,EAAW,CACrC,QAAQ,IAAIA,CAAU,EACtB,MAAMI,EAAmBJ,EACxB,IAAKK,GACK;AAAA;AAAA,0CAE2BA,EAAS,SAAS;AAAA,sCACtBC,EAAgBD,EAAS,KAAK,CAAC;AAAA,mDAClBA,EAAS,SAAS;AAAA,cAEhE,EACA,KAAK,EAAE,EACRP,EAAe,mBAAmB,YAAaM,CAAgB,CAEnE,CACA,SAASE,EAAgBC,EAAM,CAC3B,eAAQ,IAAIA,CAAK,EACVA,EAAM,IAAKC,GACP;AAAA,0CAC2BA,EAAK,GAAG;AAAA;AAAA,+CAEHA,EAAK,UAAU,UAAUA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIrCA,EAAK,KAAK;AAAA,8CACTA,EAAK,MAAM;AAAA;AAAA,cAGpD,EACA,KAAK,EAAE,CACZ,CChDAT,EAAe"}