{"version":3,"file":"commonHelpers.js","sources":["../src/js/support.js","../src/js/fetchAPI.js","../src/js/homeCatRender.js","../src/js/homeRender.js","../src/js/categories.js","../src/main.js"],"sourcesContent":["import Swiper from 'swiper';\nimport 'swiper/css';\nconst supportList = [\n  {\n    title: 'Save the Children',\n    url: 'https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis',\n    img: new URL('../img/colorpng/savechildren.png', import.meta.url),\n  },\n  {\n    title: 'Project HOPE',\n    url: 'https://www.projecthope.org/country/ukraine/',\n    img: new URL('../img/colorpng/projecthope.png', import.meta.url),\n  },\n  {\n    title: 'UNITED24',\n    url: 'https://u24.gov.ua/uk',\n    img: new URL('../img/colorpng/united24.png', import.meta.url),\n  },\n  {\n    title: 'International Medical Corps',\n    url: 'https://internationalmedicalcorps.org/country/ukraine/',\n    img: new URL('../img/colorpng/medicalcorp.png', import.meta.url),\n  },\n  {\n    title: 'Medicins Sans Frontieres',\n    url: 'https://www.msf.org/ukraine',\n    img: new URL('../img/colorpng/medicinsans.png', import.meta.url),\n  },\n  {\n    title: 'RAZOM',\n    url: 'https://www.razomforukraine.org/',\n    img: new URL('../img/colorpng/razom.png', import.meta.url),\n  },\n  {\n    title: 'Action against hunger',\n    url: 'https://www.actionagainsthunger.org/location/europe/ukraine/',\n    img: new URL('../img/colorpng/action-against.png', import.meta.url),\n  },\n  {\n    title: 'World vision',\n    url: 'https://www.wvi.org/emergencies/ukraine',\n    img: new URL('../img/colorpng/worldvision.png', import.meta.url),\n  },\n  {\n    title: 'Serhiy Prytula Charity Foundation',\n    url: 'https://prytulafoundation.org/en',\n    img: new URL('../img/colorpng/pritula.png', import.meta.url),\n  },\n];\n\nconst supportListElem = document.querySelector('.js-support-list');\nconst nextButton = document.querySelector('.swiper-button-next');\n\nnextButton.addEventListener('click', () => {\n  swiper.slideNext();\n});\nfunction supportTemplate(obj, i) {\n  return `<div class=\"swiper-slide supports-item\">\n   <a href=\"${obj.url}\" target=\"_blank\">\n   <img src=\"${obj.img}\" class=\"support-img\"/>\n   </a>\n   </div>`;\n}\nfunction supportMarkup(array) {\n  return array.map(supportTemplate).join('');\n}\nfunction renderSupport() {\n  const markup = supportMarkup(supportList);\n  supportListElem.innerHTML = markup;\n}\nrenderSupport();\n\nconst swiper = new Swiper('.mySwiper', {\n  direction: 'vertical',\n  spaceBetween: 20,\n  loop: true,\n  slidesPerView: 6,\n  plugins: { scrollContainer: true },\n  rewind: true,\n});\n","import axios from 'axios';\n// https://example.com/invalid_url - не рабочая ссылка для проверки ошибок\nconst BASE_URL = 'https://books-backend.p.goit.global/books/';\n\nexport async function fetchTopBooks() {\n  return await axios.get(`${BASE_URL}top-books`);\n}\n\nexport async function fetchCategoriesList() {\n  return await axios.get(`${BASE_URL}category-list`);\n}\n\nexport async function fetchSelectedCategory(category) {\n  return await axios.get(`${BASE_URL}category?category=${category}`);\n}\n\nexport async function fetchBookDetails(bookId) {\n  return await axios.get(`${BASE_URL}${bookId}`);\n}\n","import { fetchSelectedCategory } from \"./fetchAPI\";\nimport { seeMoreBtn, categoriesList } from \"./homeRender\";\nimport iziToast from \"izitoast\";\nconst listForRender = document.querySelector(\".home-categories-list\");\nconst sectionTitle = document.querySelector(\".main-category-title\");\n\nexport function LoadHomeCategory(data) {\n    const categoryTitle = data;\n    console.log(data);\n    fetchSelectedCategory(categoryTitle)\n    .then((category) => {\n        if(Object.keys(category.data).length !== 0 ){\n            categoriesList.innerHTML = \"\";\n            renderCategoryBooks(category.data, categoryTitle);\n        }\n        else {\n            listForRender.innerHTML = \"\";\n            iziToast.error({\n                message: \"Sorry, there are no books to render\",\n                position: `topRight`,\n            });\n        }\n    })\n    .catch((error) =>{\n        console.log('Error loading data:', error)\n        iziToast.info({\n            message: \"Sorry, there are no books to render\",\n            position: `topRight`,\n            timeout: 3000,\n            progressBar: false,\n            title: 'Error',\n            // ...optionsIziToastError\n        });\n    })\n}\nfunction renderCategoryBooks(category, listName){\n    const markupCategoryBooks = category\n    .map((book) => {\n        return `\n        <li class=\"home-books-item\" id=\"${book._id}\">\n            <div class=\"home-book-wrapper\">\n                <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${book.title}\">\n            </div>\n            <div class=\"image-overlay\"><p class=\"image-overlay-text\">QUICK VIEW</p></div>\n            <div class=\"book-info\">\n                <p class=\"book-info-title\">${book.title}</p>\n                <p class=\"book-info-author\">${book.author}</p>\n            </div>\n        </li>`\n    })\n    .join(\"\");\n    listForRender.insertAdjacentHTML(\"beforeend\", markupCategoryBooks);\n    const titleArr = listName.split(\" \")\n    if(titleArr.length > 3){\n        const middleWord = titleArr[Math.round((titleArr.length - 1) / 2)]\n        let forTitle = listName.split(middleWord).join(\" \");\n        forTitle = forTitle.replace(titleArr[titleArr.length-1], `<span class=\"main-category-title-span\">${titleArr[titleArr.length-1]}</span>`)\n        sectionTitle.innerHTML = forTitle\n    }\n    else{\n        listName = listName.replace(titleArr[titleArr.length-1], `<span class=\"main-category-title-span\">${titleArr[titleArr.length-1]}</span>`)\n        sectionTitle.innerHTML = listName\n    }\n}","import {fetchTopBooks} from \"./fetchAPI\";\nimport { LoadHomeCategory } from \"./homeCatRender\";\nimport iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\nexport {seeMoreBtn, categoriesList};\nconst categoriesList = document.querySelector(\".home-categories-list\");\nlet seeMoreBtn;\n\n//  loader\nconst loader = document.querySelector('.loader');\n\nwindow.addEventListener('load', () => {\n    loader.style.display = 'none';\n});\n\n//  loader\n\nconst toastOptions = {\n    titleColor: '#fff',\n    titleSize: '16px',\n    titleLineHeight: '1.5',\n    messageColor: '#fff',\n    messageSize: '16px',\n    messageLineHeight: '1.5',\n    position: 'topRight',\n    timeout: 3000,\n    progressBar: false\n};\n\nconst optionsIziToastWarning = {\n    ...toastOptions,\n    message: 'none',\n    backgroundColor: '#FFA000'\n};\n\nconst optionsIziToastError = {\n    ...toastOptions,\n    backgroundColor: '#EF4040',\n    maxWidth: 400\n    \n};\n\nexport function loadHomeBooks() {window.addEventListener(\"load\", () =>{\n    fetchTopBooks()\n    .then((categories) =>{\n        if(Object.keys(categories.data).length !== 0 ){\n            categoriesList.innerHTML = \"\";\n            renderHomeCategories(categories.data);\n\n        }\n        else {\n            categoriesList.innerHTML = \"\";\n            iziToast.error({\n                message: \"Sorry, there are no books to render\",\n                position: `topRight`,\n            });\n        }\n    })\n    .catch((error) =>{\n        console.log('Error loading data:', error)\n        iziToast.info({\n            message: \"Sorry, there are no books to render\",\n            position: `topRight`,\n            timeout: 3000,\n            progressBar: false,\n            title: 'Error',\n            ...optionsIziToastError\n        });\n    })\n});}\nfunction renderHomeCategories(categories){\n    const markupCategories = categories\n    .map((category) =>{\n        return `\n        <li class=\"home-categories-item\">\n        <h3 class=\"home-category-title\">${category.list_name}</h3>\n        <ul class=\"home-books-list\">${renderHomeBooks(category.books)}</ul>\n        <button class=\"button see-more\" data-js=\"${category.list_name}\">See more</button>\n        </li>`\n    })\n    .join(\"\");\n    categoriesList.insertAdjacentHTML(\"beforeend\", markupCategories);\n    seeMoreBtn = document.querySelectorAll(\".see-more\");\n    seeMoreListener();\n}\nfunction renderHomeBooks(books){\n    return books.map((book) => {\n        return `\n        <li class=\"home-books-item\" id=\"${book._id}\">\n            <div class=\"home-book-wrapper\">\n                <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${book.title}\">\n            </div>\n            <div class=\"image-overlay\"><p class=\"image-overlay-text\">QUICK VIEW</p></div>\n            <div class=\"book-info\">\n                <p class=\"book-info-title\">${book.title}</p>\n                <p class=\"book-info-author\">${book.author}</p>\n            </div>\n        </li>`\n    })\n    .join(\"\");\n}\nfunction seeMoreListener(){\nfor (let btns of seeMoreBtn){\n    btns.addEventListener(\"click\",() => LoadHomeCategory(btns.getAttribute(\"data-js\")));\n}\n}\n\n\n\n\n","const categoriesRef = document.querySelector('.categories__list');\n\ncategoriesRef.addEventListener('click', onCategoriesClick);\n\nexport async function onCategoriesClick(e) {\n  e.preventDefault();\n}\n\nfunction categoriesSelected() {\n  return new Promise(resolve => {\n    document\n      .getElementById('scrollableList')\n      .addEventListener('click', function (e) {\n        const selectedCategory = e.target;\n        if (!selectedCategory.classList.contains('categories__item')) {\n          return;\n        }\n\n        const allCategories = Array.from(this.children);\n\n        allCategories.forEach(category => {\n          category.classList.remove('selected');\n          category.textContent = category.dataset.originalText;\n        });\n\n        selectedCategory.classList.add('selected');\n        selectedCategory.textContent =\n          selectedCategory.textContent.toUpperCase();\n\n        resolve(selectedCategory);\n      });\n  });\n}\n\ncategoriesSelected().then(selectedCategory => {});\n","import './js/support';\n/*LIBRARIES\n1. Axios\n(docs) - https://www.npmjs.com/package/axios?activeTab=readme\n2.izitoast\n(docs) - https://www.npmjs.com/package/izitoast\n3.tui-pagination\n(docs) - https://www.npmjs.com/package/tui-pagination\n4.Swiper \n(docs) - https://www.npmjs.com/package/swiper\n*/\nif (localStorage.getItem('theme') === 'dark') {\n  refs.themeCheckbox.checked = true;\n  // Сюди треба навішати класи для темної теми або функцію яка це робитиме\n}\nimport { loadHomeBooks } from './js/homeRender';\nloadHomeBooks();\n\nimport { onCategoriesClick } from './js/categories';\nonCategoriesClick();\n\n\n"],"names":["supportList","supportListElem","nextButton","swiper","supportTemplate","obj","i","supportMarkup","array","renderSupport","markup","Swiper","BASE_URL","fetchTopBooks","axios","fetchSelectedCategory","category","listForRender","sectionTitle","LoadHomeCategory","data","categoryTitle","categoriesList","renderCategoryBooks","iziToast","error","listName","markupCategoryBooks","book","titleArr","middleWord","forTitle","seeMoreBtn","loader","toastOptions","optionsIziToastError","loadHomeBooks","categories","renderHomeCategories","markupCategories","renderHomeBooks","seeMoreListener","books","btns","categoriesRef","onCategoriesClick","categoriesSelected","resolve","e","selectedCategory"],"mappings":"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"}