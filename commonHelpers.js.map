{"version":3,"file":"commonHelpers.js","sources":["../src/js/support.js","../src/js/fetchAPI.js","../src/js/homeCatRender.js","../src/js/homeRender.js","../src/js/refs.js","../src/js/categories.js","../src/img/amazon.png","../src/img/book.png","../src/js/modalWindowFunctions.js","../src/js/localStorage.js","../src/main.js"],"sourcesContent":["import Swiper from 'swiper';\nimport 'swiper/css';\nconst supportList = [\n  {\n    title: 'Save the Children',\n    url: 'https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis',\n    img: new URL('../img/savechildren.png', import.meta.url),\n  },\n  {\n    title: 'Project HOPE',\n    url: 'https://www.projecthope.org/country/ukraine/',\n    img: new URL('../img/projecthope.png', import.meta.url),\n  },\n  {\n    title: 'UNITED24',\n    url: 'https://u24.gov.ua/uk',\n    img: new URL('../img/united.png', import.meta.url),\n  },\n  {\n    title: 'International Medical Corps',\n    url: 'https://internationalmedicalcorps.org/country/ukraine/',\n    img: new URL('../img/medicalasoc.png', import.meta.url),\n  },\n  {\n    title: 'Medicins Sans Frontieres',\n    url: 'https://www.msf.org/ukraine',\n    img: new URL('../img/medicalfront.png', import.meta.url),\n  },\n  {\n    title: 'RAZOM',\n    url: 'https://www.razomforukraine.org/',\n    img: new URL('../img/razom.png', import.meta.url),\n  },\n  {\n    title: 'Action against hunger',\n    url: 'https://www.actionagainsthunger.org/location/europe/ukraine/',\n    img: new URL('../img/actionhunted.png', import.meta.url),\n  },\n  {\n    title: 'World vision',\n    url: 'https://www.wvi.org/emergencies/ukraine',\n    img: new URL('../img/worldvision.png', import.meta.url),\n  },\n  {\n    title: 'Serhiy Prytula Charity Foundation',\n    url: 'https://prytulafoundation.org/en',\n    img: new URL('../img/pritula.png', import.meta.url),\n  },\n];\n\nconst supportListElem = document.querySelector('.js-support-list');\nconst nextButton = document.querySelector('.swiper-button-next');\n\nnextButton.addEventListener('click', () => {\n  swiper.slideNext();\n});\nfunction supportTemplate(obj, i) {\n  return `<div class=\"swiper-slide supports-item\">\n  <span class=\"supports-span\">0${i+1}</span>    \n  <a href=\"${obj.url}\" target=\"_blank\">\n  <img src=\"${obj.img}\" class=\"support-img\"/>\n  </a>\n  </div>`;\n}\nfunction supportMarkup(array) {\n  return array.map(supportTemplate).join('');\n}\nfunction renderSupport() {\n  const markup = supportMarkup(supportList);\n  supportListElem.innerHTML = markup;\n}\nrenderSupport();\n\nconst swiper = new Swiper('.mySwiper', {\n  slidesPerView: 6,\n  loopAdditionalSlides: 6,\n  direction: 'vertical',\n  rewind: true,\n  allowTouchMove: false,\n  spaceBetween: 20,\n  slidesPerGroup: 6,\n});\n","import axios from 'axios';\n// https://example.com/invalid_url - не рабочая ссылка для проверки ошибок\nconst BASE_URL = 'https://books-backend.p.goit.global/books/';\n\nexport async function fetchTopBooks() {\n  return await axios.get(`${BASE_URL}top-books`);\n}\n\nexport async function fetchCategoriesList() {\n  return await axios.get(`${BASE_URL}category-list`);\n}\n\nexport async function fetchSelectedCategory(category) {\n  return await axios.get(`${BASE_URL}category?category=${category}`);\n}\n\nexport async function fetchBookDetails(bookId) {\n  return await axios.get(`${BASE_URL}${bookId}`);\n}\n","import { fetchSelectedCategory } from \"./fetchAPI\";\nimport { seeMoreBtn, categoriesList, loadHomeBooks } from \"./homeRender\";\nimport iziToast from \"izitoast\";\nlet listForRender;\nconst sectionTitle = document.querySelector(\".main-category-title\");\n\nexport function LoadHomeCategory(data) {\n    const categoryTitle = data;\n    console.log(data);\n    fetchSelectedCategory(categoryTitle)\n    .then((category) => {\n        if(Object.keys(category.data).length !== 0 ){\n            categoriesList.innerHTML = \"\";\n            renderCategoryBooks(category.data, categoryTitle);\n        }\n        else {\n            categoriesList.innerHTML = \"\";\n            iziToast.error({\n                message: \"Sorry, there are no books to render\",\n                position: `topRight`,\n            });\n        }\n    })\n    .catch((error) =>{\n        console.log('Error loading data:', error)\n        iziToast.info({\n            message: \"Sorry, there are no books to render\",\n            position: `topRight`,\n            timeout: 3000,\n            progressBar: false,\n            title: 'Error',\n            // ...optionsIziToastError\n        });\n    })\n}\nfunction renderCategoryBooks(category, listName){\n    categoriesList.insertAdjacentHTML(\"afterbegin\", `<ul class=\"category-books-list\"></ul>`);\n    listForRender = document.querySelector(\".category-books-list\");\n    const markupCategoryBooks = category\n    .map((book) => {\n        return `\n        <li class=\"home-books-item\" id=\"${book._id}\">\n        <div class=\"image-overlay\">\n            <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${book.title}\">\n            <p class=\"image-overlay-text\">QUICK VIEW</p>\n        </div>\n            <div class=\"book-info\">\n                <p class=\"book-title break-text\">${book.title}</p>\n                <p class=\"book-author\">${book.author}</p>\n            </div>\n        </li>`\n    })\n    .join(\"\");\n    listForRender.insertAdjacentHTML(\"beforeend\", markupCategoryBooks);\n    listForRender.insertAdjacentHTML(\"afterend\", `<div class=\"all-cat-btn-wrap\"><button class=\"all-cat-btn\">All Categories</button></div>`)\n    let allCatBtn = document.querySelector(\".all-cat-btn\");\n    listenAllCatBtn(allCatBtn);\n    const titleArr = listName.split(\" \")\n    if(titleArr.length > 3){\n        const middleWord = titleArr[Math.round((titleArr.length - 1) / 2)]\n        let forTitle = listName.split(middleWord).join(\" \");\n        forTitle = forTitle.replace(titleArr[titleArr.length-1], `<span class=\"main-category-title-span\">${titleArr[titleArr.length-1]}</span>`)\n        sectionTitle.innerHTML = forTitle\n    }\n    else{\n        listName = listName.replace(titleArr[titleArr.length-1], `<span class=\"main-category-title-span\">${titleArr[titleArr.length-1]}</span>`)\n        sectionTitle.innerHTML = listName\n    }\n}\nexport function listenAllCatBtn (allCatBtn){\n    allCatBtn.addEventListener(\"click\", () => {\n        loadHomeBooks()\n        baseHomeTitle()\n    });\n}\nexport function baseHomeTitle(){\n    sectionTitle.innerHTML = `Best Sellers <span class=\"main-category-title-span\">Books</span>`;\n}\n\n","import {fetchTopBooks} from \"./fetchAPI\";\nimport { LoadHomeCategory } from \"./homeCatRender\";\nimport iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\nexport {seeMoreBtn, categoriesList};\nconst categoriesList = document.querySelector(\".home-categories-list\");\nlet seeMoreBtn;\n\n//  loader\nconst loader = document.querySelector('.loader');\n\nwindow.addEventListener('load', () => {\n    loader.style.display = 'none';\n});\n\n//  loader\n\nconst toastOptions = {\n    titleColor: '#fff',\n    titleSize: '16px',\n    titleLineHeight: '1.5',\n    messageColor: '#fff',\n    messageSize: '16px',\n    messageLineHeight: '1.5',\n    position: 'topRight',\n    timeout: 3000,\n    progressBar: false\n};\n\nconst optionsIziToastWarning = {\n    ...toastOptions,\n    message: 'none',\n    backgroundColor: '#FFA000'\n};\n\nconst optionsIziToastError = {\n    ...toastOptions,\n    backgroundColor: '#EF4040',\n    maxWidth: 400\n    \n};\n\nexport function loadHomeBooks() {\n    fetchTopBooks()\n    .then((categories) =>{\n        if(Object.keys(categories.data).length !== 0 ){\n            categoriesList.innerHTML = \"\";\n            renderHomeCategories(categories.data);\n\n        }\n        else {\n            categoriesList.innerHTML = \"\";\n            iziToast.error({\n                message: \"Sorry, there are no books to render\",\n                position: `topRight`,\n            });\n        }\n    })\n    .catch((error) =>{\n        console.log('Error loading data:', error)\n        iziToast.info({\n            message: \"Sorry, there are no books to render\",\n            position: `topRight`,\n            timeout: 3000,\n            progressBar: false,\n            title: 'Error',\n            ...optionsIziToastError\n        });\n    })\n;}\nfunction renderHomeCategories(categories){\n    const markupCategories = categories\n    .map((category) =>{\n        return `\n        <li class=\"home-categories-item\">\n        <h3 class=\"home-category-title\">${category.list_name}</h3>\n        <ul class=\"home-books-list\">${renderHomeBooks(category.books)}</ul>\n        <div class=\"see-more-wrapper\">\n            <button class=\"button see-more\" data-js=\"${category.list_name}\">See more</button>\n        </div>\n        </li>`\n    })\n    .join(\"\");\n    categoriesList.insertAdjacentHTML(\"beforeend\", markupCategories);\n    seeMoreBtn = document.querySelectorAll(\".see-more\");\n    seeMoreListener();\n}\nfunction renderHomeBooks(books){\n    return books.map((book) => {\n        return `\n        <li class=\"home-books-item\" id=\"${book._id}\">\n            <div class=\"image-overlay\">\n                <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${book.title}\">\n                <p class=\"image-overlay-text\">QUICK VIEW</p>\n            </div>\n            <div class=\"book-info\">\n                <p class=\"book-title break-text\">${book.title}</p>\n                <p class=\"book-author\">${book.author}</p>\n            </div>\n        </li>`\n    })\n    .join(\"\");\n}\nfunction seeMoreListener(){\nfor (let btns of seeMoreBtn){\n    btns.addEventListener(\"click\",() => LoadHomeCategory(btns.getAttribute(\"data-js\")));\n}\n}\n\n\n\n\n","export const refs = {\nthemeCheckbox: document.querySelector('#theme-switch'),\ncategoriesRef: document.querySelector('.categories__list'),\nupButton: document.querySelector('.up-button'),\n};\n\n","import { refs } from './refs';\nimport { LoadHomeCategory } from '/js/homeCatRender.js';\nimport { loadHomeBooks } from './homeRender';\nimport { baseHomeTitle } from './homeCatRender';\n\nrefs.categoriesRef.addEventListener('click', categoriesSelected);\n\nexport function categoriesSelected(event) {\n  if (\n    !event ||\n    !event.target ||\n    !event.target.classList.contains('categories__item')\n  ) {\n    return;\n  }\n\n  const selectedCategory = event.target;\n\n  if (selectedCategory.dataset.category === 'all categories') {\n    const allCategories = Array.from(selectedCategory.parentElement.children);\n\n    allCategories.forEach(category => {\n      category.classList.remove('selected');\n    });\n\n    selectedCategory.classList.add('selected');\n\n    loadHomeBooks();\n    baseHomeTitle();\n  } else {\n    const allCategories = Array.from(selectedCategory.parentElement.children);\n\n    allCategories.forEach(category => {\n      category.classList.remove('selected');\n    });\n\n    selectedCategory.classList.add('selected');\n\n    LoadHomeCategory(selectedCategory.dataset.category);\n  }\n}\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOBSURBVHgB7VdLaBRBEH3Vm2QUo1HxRwwSc0jUgx9UFBRB3Ysiinrw5FHPgiiK4E3EP3hSUMSj4kVQRMQcRESIYOIlgpIoYmJiovn4ySYzXdbO7uxOz28nEG+p0Dvd1a+737yq7p4A01YwSurku1YztL0VRAvAsARNSGssf8AENPdAZ9royHgnJkOCb1stTPqeTLMGU2bURVpl6chYd6gnROBmzQpW/Fq66ooeRHON8yfibKmtF1Xe+REqNITwRH7q3LFccJTr/hLnT8RVscZ9ZpO9QcK+UXOANTVKAaQEn16dA31xvkg8U4tzM7MrlgRxZjtiCHCADCLaUYSj+gg1u/3rVhkkNDe5SjFMq54Natoj6FnScIDhbvCXVhngewcZRku3AbObgEwN8OcbuL8N+NVrYPJzE+n6WBLSbUEHPBtPgdYeA6w5pr/vDfTTw8DIZ6C2ASp7C2jYZmJyQ+C2C+CO67I4l1/OoVo/zgiHtpXyy0eN+0CbzoYIuLZ4Ayh7B3nSau/DEAHXrLmgredFxYNGWLSmDGKV8LLZs1kNSDKq3wyuWwnMX5mIw4wlBQLGQnEkHCpB3BqnOAfmr66MyUdCk5cSZi4hQgnmMpG81JVpVFVEuHPmd4fnoKQZXMnIIFV5AaQAFef2pEgmoXwoTheOVBiUT063nZQThhKUSglMRgnPzM0RTEyYUqV5S50So+O7DRLM5tvTFCrBPrKUGA5WZrzSLKBTYIq7w9+MJ6EDCF+dx4aAga78wS93xLpojD0O/BDM32FgUTNo5rxiBwI5kZyYXBrkbZCv7dCPToN73krDKTjlOFabj0LtPFlSS7degX59Qwj8dIm6awlZtf96cWf4X848rAxhJs4seCaubGnm2oVyGw7lLxVExUbtOCU35QfQ3GXQL68FeotTy1cMZshHWm7E18fPq88NZiOVEB1GCylRnGBkIDypz3TrZaBxC7j9gTAKfaR5VEWd0eD4nL8RTMweTpNoJRYC/vhCKhn5FilrVbojAm3vKVH/BJNm2WytHpfil7oo98k+HwcwHHiSQ60IkCwLIe2JE4s6ZeIW/CdjUcG61LcccUrkeY47OCSUbXe7Tn0ZkWt8d5BYKJtqr/Z3/M6hWWTpmnxo4ov8djDRJutib+g/scSDP3d8yaoMYwPbVA/F1ZissRoncr47GfuVdWXwPaatgv0DKz/i8wlwU7gAAAAASUVORK5CYII=\"","export const bookListRef = document.querySelector('.home-categories-list');\nconst modalPlaceRef = document.querySelector('#modal');\nimport { fetchBookDetails } from './fetchAPI';\nimport { addToLocalStorage } from './localStorage.js';\nimport { getAllBooks } from './localStorage.js';\nimport amazonLogo from '../img/amazon.png';\nimport appleLogo from '../img/book.png';\n\nlet modalBtnCloseRef;\n\nexport async function onBookClick(event) {\n  const clickedElement = event.target;\n  const closestLi = clickedElement.closest('li');\n\n  if (!closestLi.hasAttribute('id') || closestLi.id === null) return;\n  document.querySelector('body').classList.add('no-scroll');\n\n  const oneBookData = (await fetchBookDetails(closestLi.id)).data;\n\n  modalPlaceRef.innerHTML = renderModalWindow(oneBookData);\n\n  const listBtnRef = document.querySelector('.book-btn');\n  const backdropRef = document.querySelector('#modal-open');\n  modalBtnCloseRef = document.querySelector('#modal-btn-close');\n\n  backdropRef.addEventListener('click', closeModalWindow);\n  modalBtnCloseRef.addEventListener('click', closeModalWindow);\n  document.addEventListener('keydown', closeModalWindow);\n  listBtnRef.addEventListener('click', event =>\n    addToLocalStorage(event, oneBookData)\n  );\n}\n\nfunction renderModalWindow(book) {\n  var buttonBasket;\n  if (\n    getAllBooks().find(b => {\n      return b._id === book._id;\n    })\n  ) {\n    buttonBasket = 'remove from the shopping list';\n  } else buttonBasket = 'add to shopping list';\n  return ` <div class=\"backdrop is-open\" id=\"modal-open\">\n    <div class=\"modal-container\">\n    <div class=\"modal\">\n    <button type=\"button\" class=\"modal-close-btn\" id=\"modal-btn-close\">\n          <svg class=\"modal-btn-icon\" width=\"16\" height=\"16\">\n            <use href=\"/img/noptimizesprite.svg#icon-x-close\"></use>\n          </svg>\n        </button>\n        <div class=\"book-wrap\">\n                <img class=\"book-img\" src=\"${book.book_image}\" alt=\"${book.title}\">\n                <div class=\"book-info-wrap\">\n                <p class=\"book-title\">${book.title}</p>\n                <p class=\"book-author\">${book.author}</p>\n                <p class=\"book-alt-text\">${book.description}</p>\n                <div class=\"img-wrap \">\n                <a href=\"${book.amazon_product_url}\" target=\"blank\" >\n                <img\n                  src=\"${amazonLogo}\"\n                  alt=\"amazon\"\n                  class=\"amazon-logo\"\n                  width=\"62\"\n                  height=\"19\"\n                />\n                </a>\n                <a href=\"${book.buy_links[1].url}\" target=\"_blank\">\n                <img\n                  src=\"${appleLogo}\"\n                  alt=\"apple-book\"\n                  class=\"apple-logo\"\n                  width=\"33\"\n                  height=\"32\"\n                />\n                </div>\n                </div>\n                </a>\n                </div>\n                  <button type=\"button\" class=\"book-btn\" data-id = \"${book._id}\">${buttonBasket}</button>       \n  </div>\n  </div> `;\n}\n\nfunction closeModalWindow(event) {\n  const backdropRef = document.querySelector('#modal-open');\n  if (\n    event.target.id !== 'modal-open' &&\n    event.target.id !== 'modal-btn-close' &&\n    event.key !== 'Escape'\n  )\n    return;\n  backdropRef.classList.remove('is-open');\n  document.querySelector('body').classList.remove('no-scroll');\n\n  backdropRef.removeEventListener('click', closeModalWindow);\n  modalBtnCloseRef.removeEventListener('click', closeModalWindow);\n  document.removeEventListener('keydown', closeModalWindow);\n}\n","import { refs } from './refs';\nimport {} from './modalWindowFunctions.js';\nconst LOCAL_STORAGE_KEY = 'modal';\n\nexport function onAddThemeLocalStorage() {\n  if (refs.themeCheckbox.checked) {\n    localStorage.setItem('theme', 'dark');\n    // Сюди треба навішати класи для темної теми або функцію яка це робитиме\n     document.body.classList.add('dark-theme');  \n  } else {\n    localStorage.removeItem('theme');\n    // Тут треба видалити класи темної теми або створити функцію яка це робитиме\n     document.body.classList.remove('dark-theme');\n  }\n}\n\nexport function addToLocalStorage(event, oneBookData) {\n  if (event.target.textContent === 'remove from the shopping list') {\n    removeFromLocalStorage(event);\n    return;\n  }\n  if (!event.target.classList.contains('book-btn')) return;\n  const booksArray = getAllBooks();\n  booksArray.push(oneBookData);\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(booksArray));\n  checkLocalBook(event);\n}\nexport function getAllBooks() {\n  return JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)) || [];\n}\n\nfunction checkLocalBook(event) {\n  const booksArray = getAllBooks();\n  const currentBookId = event.target.dataset.id;\n  if (booksArray.find(book => book._id === currentBookId)) {\n    const listBtnRef = event.target;\n    listBtnRef.textContent = 'remove from the shopping list';\n  }\n}\nexport function removeFromLocalStorage(event) {\n  const notesArray = getAllBooks();\n  const id = notesArray.findIndex(elem => {\n    return elem._id === event.target.dataset.id;\n  });\n\n  if (id === undefined || id === -1) return;\n  notesArray.splice(id, 1);\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(notesArray));\n  event.target.textContent = 'add to shopping list';\n}\n","import './js/support';\n/*LIBRARIES\n1. Axios\n(docs) - https://www.npmjs.com/package/axios?activeTab=readme\n2.izitoast\n(docs) - https://www.npmjs.com/package/izitoast\n3.tui-pagination\n(docs) - https://www.npmjs.com/package/tui-pagination\n4.Swiper \n(docs) - https://www.npmjs.com/package/swiper\n*/\nimport { loadHomeBooks } from './js/homeRender';\nloadHomeBooks();\n\n// import { toggleModal } from './js/modalburger.js';\n\nif (localStorage.getItem('theme') === 'dark') {\n  refs.themeCheckbox.checked = true;\n  // Сюди треба навішати класи для темної теми або функцію яка це робитиме\n  document.body.classList.add('dark-theme');\n}\n/*-------------------CATEGORIES----------------------*/ \nimport { categoriesSelected } from './js/categories';\ncategoriesSelected();\n\nimport { refs } from './js/refs.js';\nimport { onAddThemeLocalStorage } from './js/localStorage.js';\nrefs.themeCheckbox.addEventListener('change', onAddThemeLocalStorage);\n\nimport { onBookClick, bookListRef } from './js/modalWindowFunctions.js';\nbookListRef.addEventListener('click', onBookClick);\n\n/*-----------------------SCROLL UP ----------------*/\nwindow.addEventListener('scroll', () => {\n  if (window.scrollY > 100) {\n    refs.upButton.style.display = 'block';\n  } else {\n     refs.upButton.style.display = 'none';\n  }\n});\n\n\nrefs.upButton.addEventListener('click', () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n\n\n\n"],"names":["supportList","supportListElem","nextButton","swiper","supportTemplate","obj","i","supportMarkup","array","renderSupport","markup","Swiper","BASE_URL","fetchTopBooks","axios","fetchSelectedCategory","category","fetchBookDetails","bookId","listForRender","sectionTitle","LoadHomeCategory","data","categoryTitle","categoriesList","renderCategoryBooks","iziToast","error","listName","markupCategoryBooks","book","allCatBtn","listenAllCatBtn","titleArr","middleWord","forTitle","loadHomeBooks","baseHomeTitle","seeMoreBtn","loader","toastOptions","optionsIziToastError","categories","renderHomeCategories","markupCategories","renderHomeBooks","seeMoreListener","books","btns","refs","categoriesSelected","event","selectedCategory","amazonLogo","appleLogo","bookListRef","modalPlaceRef","modalBtnCloseRef","onBookClick","closestLi","oneBookData","renderModalWindow","listBtnRef","backdropRef","closeModalWindow","addToLocalStorage","buttonBasket","getAllBooks","b","LOCAL_STORAGE_KEY","onAddThemeLocalStorage","removeFromLocalStorage","booksArray","checkLocalBook","currentBookId","notesArray","id","elem"],"mappings":"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"}