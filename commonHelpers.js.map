{"version":3,"file":"commonHelpers.js","sources":["../src/js/fetchAPI.js","../src/js/homeRender.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n// https://example.com/invalid_url - не рабочая ссылка для проверки ошибок\nconst BASE_URL = 'https://books-backend.p.goit.global/books/';\n\nexport async function fetchTopBooks() {\n  return await axios.get(`${BASE_URL}top-books`);\n}\n\nexport async function fetchCategoriesList() {\n  return await axios.get(`${BASE_URL}category-list`);\n}\n\nexport async function fetchSelectedCategory(category) {\n  return await axios.get(`${BASE_URL}category?category=${category}`);\n}\n\nexport async function fetchBookDetails(bookId) {\n  return await axios.get(`${BASE_URL}${bookId}`);\n}\n","import {fetchTopBooks, fetchSelectedCategory, fetchBookDetails} from \"./fetchAPI\";\nimport iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\nconst categoriesList = document.querySelector(\".home-categories-list\");\n\nconst toastOptions = {\n    titleColor: '#fff',\n    titleSize: '16px',\n    titleLineHeight: '1.5',\n    messageColor: '#fff',\n    messageSize: '16px',\n    messageLineHeight: '1.5',\n    position: 'topRight',\n    timeout: 3000,\n    progressBar: false\n};\n\nconst optionsIziToastWarning = {\n    ...toastOptions,\n    message: 'none',\n    backgroundColor: '#FFA000'\n};\n\nconst optionsIziToastError = {\n    ...toastOptions,\n    backgroundColor: '#EF4040',\n    maxWidth: 400\n    \n};\n\nlet booksList;\nexport function loadHomeBooks() {window.addEventListener(\"load\", () =>{\n    fetchTopBooks()\n    .then((categories) =>{\n        if(Object.keys(categories.data).lenght !== 0 ){\n            categoriesList.innerHTML = \"\";\n            renderHomeCategories(categories.data);\n\n        }\n        else {\n            categoriesList.innerHTML = \"\";\n            iziToast.error({\n                message: \"Sorry, there are no books to render\",\n                position: `topRight`,\n            });\n        }\n    })\n    .catch((error) =>{\n        console.log('Error loading data:', error)\n        iziToast.info({\n            message: \"Sorry, there are no books to render\",\n            position: `topRight`,\n            timeout: 3000,\n            progressBar: false,\n            title: 'Error',\n            ...optionsIziToastError\n        });\n    })\n});}\nfunction renderHomeCategories(categories){\n    console.log(categories);\n    const markupCategories = categories\n    .map((category) =>{\n        return `\n        <li class=\"home-categories-item\">\n        <h3 class=\"home-category-title\">${category.list_name}</h3>\n        <ul class=\"home-books-list\">${renderHomeBooks(category.books)}</ul>\n        <button class=\"button see-more\" data-js=\"${category.list_name}\">See more</button>\n        </li>`\n    })\n    .join(\"\");\n    categoriesList.insertAdjacentHTML(\"beforeend\", markupCategories);\n\n}\nfunction renderHomeBooks(books){\n    console.log(books)\n    return books.map((book) => {\n        return `\n        <li class=\"home-books-item\" id=\"${book._id}\">\n            <div class=\"home-book-wrapper\">\n                <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${book.title}\">\n            </div>\n            <div class=\"image-overlay\"><p class=\"image-overlay-text\">QUICK VIEW</p></div>\n            <div class=\"book-info\">\n                <p class=\"book-info-title\">${book.title}</p>\n                <p class=\"book-info-author\">${book.author}</p>\n            </div>\n        </li>`\n    })\n    .join(\"\");\n}\n\n\n\n\n\n","/*LIBRARIES\n1. Axios\n(docs) - https://www.npmjs.com/package/axios?activeTab=readme\n2.izitoast\n(docs) - https://www.npmjs.com/package/izitoast\n3.tui-pagination\n(docs) - https://www.npmjs.com/package/tui-pagination\n4.Swiper \n(docs) - https://www.npmjs.com/package/swiper\n*/\n\nimport { loadHomeBooks } from './js/homeRender';\nloadHomeBooks();\n"],"names":["BASE_URL","fetchTopBooks","axios","categoriesList","toastOptions","optionsIziToastError","loadHomeBooks","categories","renderHomeCategories","iziToast","error","markupCategories","category","renderHomeBooks","books","book"],"mappings":"6vBAEA,MAAMA,EAAW,6CAEV,eAAeC,GAAgB,CACpC,OAAO,MAAMC,EAAM,IAAI,GAAGF,CAAQ,WAAW,CAC/C,CCHA,MAAMG,EAAiB,SAAS,cAAc,uBAAuB,EAE/DC,EAAe,CACjB,WAAY,OACZ,UAAW,OACX,gBAAiB,MACjB,aAAc,OACd,YAAa,OACb,kBAAmB,MACnB,SAAU,WACV,QAAS,IACT,YAAa,EACjB,EAQMC,EAAuB,CACzB,GAAGD,EACH,gBAAiB,UACjB,SAAU,GAEd,EAGO,SAASE,GAAgB,CAAC,OAAO,iBAAiB,OAAQ,IAAK,CAClEL,EAAe,EACd,KAAMM,GAAc,CACd,OAAO,KAAKA,EAAW,IAAI,EAAE,SAAW,GACvCJ,EAAe,UAAY,GAC3BK,EAAqBD,EAAW,IAAI,IAIpCJ,EAAe,UAAY,GAC3BM,EAAS,MAAM,CACX,QAAS,sCACT,SAAU,UAC1B,CAAa,EAEb,CAAK,EACA,MAAOC,GAAS,CACb,QAAQ,IAAI,sBAAuBA,CAAK,EACxCD,EAAS,KAAK,CACV,QAAS,sCACT,SAAU,WACV,QAAS,IACT,YAAa,GACb,MAAO,QACP,GAAGJ,CACf,CAAS,CACT,CAAK,CACL,CAAC,CAAE,CACH,SAASG,EAAqBD,EAAW,CACrC,QAAQ,IAAIA,CAAU,EACtB,MAAMI,EAAmBJ,EACxB,IAAKK,GACK;AAAA;AAAA,0CAE2BA,EAAS,SAAS;AAAA,sCACtBC,EAAgBD,EAAS,KAAK,CAAC;AAAA,mDAClBA,EAAS,SAAS;AAAA,cAEhE,EACA,KAAK,EAAE,EACRT,EAAe,mBAAmB,YAAaQ,CAAgB,CAEnE,CACA,SAASE,EAAgBC,EAAM,CAC3B,eAAQ,IAAIA,CAAK,EACVA,EAAM,IAAKC,GACP;AAAA,0CAC2BA,EAAK,GAAG;AAAA;AAAA,+CAEHA,EAAK,UAAU,UAAUA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIrCA,EAAK,KAAK;AAAA,8CACTA,EAAK,MAAM;AAAA;AAAA,cAGpD,EACA,KAAK,EAAE,CACZ,CC9EAT,EAAe"}